# Конвертер файлов

## Обзор

**files-converter** - это инструмент для конвертации исходных файлов конфигурации или *.cf файла в *.cfe файл и обратно.

## Функциональность
- Реализована конвертация из *.cf файла в *.cfe файл.
- Реализована конвертация из исходных файлов(конфигурация) в *.cfe файл.
- Не реализована конвертация из *.cfe файла в *.cf файл.
- Не реализована конвертация из исходных файлов(расширение) в *.cf файл.

## Использование файла настроек
**files-converter** поддерживает файл настроек по умолчанию, который расположен в `$HOME/.files-converter/configs/default.json`. Файл содержит настройки необходимые для конвертации в расширение (*.cfe).
Чтобы использовать свой конфигурационный файл, расположите файл в `$HOME/.files-converter/configs` с именем файла `config.json` или укажите путь с помощью флага `--config`:

```shell
files-converter --config="pathToConfig/config.json"
```

### Параметры конфигурационного файла

#### Обязательные

- **`platform_version`**: *(строка)* - версию платформы.
  - **Пример**: `"platform_version": "8.3.23"`

- **`extension`**: *(строка)* - имя расширения.
  - **Example**: `"extension": "PSSL"`

- **`prefix`**: *(строка)* - префикс, который используется для имени объектов метаданных.
  - **Example**: `"prefix": "пбп_"`

- **`input_path`**: *(строка)* - путь к каталогу или файлу для конвертации.
  - **Example**: `"input_path": "C:/path/to/input"`

- **`output_path`**: *(строка)* - путь, по которому будут сохранены преобразованные файлы.
  - **Example**: `"output_path": "C:/path/to/output"`

- **`conversion_type`**: *(строка)* - тип выполняемой конвертации. Поддерживаемые значения:
  - `"srcConvert"` - конвертация исходных файлов в *.cfe.
  - `"cfConvert"` - конвертация конфигурационного файла *.cf в *.cfe.
  - **Example**: `"conversion_type": "srcConvert"`

#### Необязательные

- **`xml_files`**: *(массив)* - список файлов XML, в которые необходимо внести изменения.
  - **`file_name`**: *(строка)* - имя XML-файла который нужно изменить.
    - **Example**: `"file_name": "example.xml"`
  - **`element_operations`**: *(массив)* - список операций, которые необходимо выполнить над элементами в XML-файле.
    - **`element_name`**: *(строка)* - имя элемента XML, который нужно изменить.
      - **Example**: `"element_name": "Global"`
    - **`operation`**: *(строка)* - тип операции. Поддерживаемые значения: 
      - `"add"` - добавление элемента.
      - `"delete"` - удаление элемента.
      - `"modify"` - изменение элемента.
      - **Example**: `"operation": "modify"`
    - **`value`**: *(строка, опционально)* - новое значение, которое нужно установить для элемента. (используется с операциями: `add` и `modify`).
      - **Example**: `"value": "false"`

## Использование

Инструмент можно установить, запустив:

```shell
go install github.com/firstBitSportivnaya/files-converter@latest
```

**Примечание:** Для использования этой программы требуется соответствующая версия платформы (8.3.23).

## Справочная информация:

Для получения информации о доступных командах и параметрах:

```shell
files-converter --help
```

## Примеры

Использование конфигурационного файла:

```shell
files-converter --config="path/config.json"
```

Если флаг --config не указан, программа использует конфигурационный файл по умолчанию, расположенный в $HOME/.files-converter/configs/config.json:

```shell
files-converter
```

## Лицензия

Этот проект лицензирован по лицензии MIT. Подробнее см. файл [LICENSE](LICENSE).
